<!DOCTYPE html>
<head>
  <title>Lambdoma online keyboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caprasimo&display=swap" rel="stylesheet">
  <style>
    html * > {
      font-size: 0.75;
      box-sizing: border-box;
    }
    body {
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f9;
      color: #2f4550;
      padding: 0;
      margin: 0;
    }
    a {
      color: #2f4550;
    }
    a:hover,
    a:focus {
      text-decoration: none;
    }
    h1 {
      font-family: "Caprasimo", serif;
      font-weight: 200;
      font-size: 3.2rem;
      text-align: center;
      margin: 0;
    }
    .sub-heading {
      display: block;
      font-size: 1.3rem;
    }
    :root {
      --button-size: 52px;
      --transition-period: 200ms;
      --grid-size: 8;
      --spacing: 16px;
      --max-width: 768px;
      --dark-green: #2f4550;
      --mid-green: #586f7c;
      --light-green: #b8dbd9;
    }
    header {
      background-color: var(--dark-green);
      color: white;
      padding: calc(var(--spacing) / 2) 0;
    }
    header p {
      margin-bottom: 0;
    }
    .wrapper {
      position: relative;
    }
    .inner-wrapper {
      margin: 0 auto;
      max-width: var(--max-width);
    }
    main {
      display: flex;
      flex-direction: row;
      margin: 0 auto;
      justify-content: center;
      padding: var(--spacing) 0;
    }

    .keyboard-form {
      background-color: #b8dbd9;
      /* max-width: var(--max-width); */
      margin: 0;
      padding: var(--spacing);
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: var(--spacing);
    }

    .keyboard-form__fieldset {
      width: fit-content;
    }

    .keyboard-form__submit {
      background-color: var(--dark-green);
      color: white;
      height: 1.8rem;
      border-radius: 0.3rem;
    }

    .keyboard-form__fieldset input {
      width: 60px;
      height: 1.4rem;
      font-size: 1rem;
      border-radius: 0.3rem;
    }

    .keyboard-form__fieldset select {
      font-size: 1rem;
    }

    .keyboard-form__fieldset {
      display: inline-block;
    }

    .keyboard__column {
      flex-direction: column;
      width: var(--button-size);
    }

    .keyboard__button {
      width: var(--button-size);
      height: var(--button-size);
      border: 1px solid black;
      transition: background-color var(--transition-period) linear;
      position: relative;
      background-color: var(--button-color);
    }

    button:hover {
      filter: brightness(1.2); /* or contrast/saturate/etc */
    }

    .keyboard__button:hover {
      cursor: pointer;
      background-color: bisque;
      transition: background-color var(--transition-period) linear;
    }

    .section__note-data {
      position: absolute;
      left: 0;
      top: 60px;
    }
    
    .keyboard__button__text {
      pointer-events: none;
    }

    .keyboard__button[data-playing="true"] {
      background-color: coral;
      transition: background-color var(--transition-period) linear;
    }

    @media screen and (min-width: 580px) {
      .grid-8 {
        transform: rotate(45deg) translate(20%, 15%);
        width: calc(var(--button-size) * var(--grid-size));
      }

      .keyboard__button__text {
        rotate: -45deg;
      }

      .keyboard-form--footer {
        margin-top: 180px;
        position: relative;
        z-index: 2;
      }
    }

    @media screen and (min-width: 1260px) {
      .grid-16 {
        transform: rotate(45deg) translate(20%, 15%);
        width: calc(var(--button-size) * var(--grid-size));
      }
    }

    @media screen and (min-width: 1340px) {
      .grid-20 {
        transform: rotate(45deg) translate(20%, 15%);
        width: calc(var(--button-size) * var(--grid-size));
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="inner-wrapper">
      <h1>Lambdoma Matrix <span class="sub-heading">Harmanically consonant Keyboard</span></h1>
      <p>Barbara Hero's matrix of wholenumber ratios organises the harmonic series into a unique keyboard. 
      This online version aims to reproduce her innovative work and make it accessible to anyone.
      Best enjoyed on larger screens. <a href="https://www.lambdoma.com/" target="_blank">Read about the original, physical keyboard here.</a></p>
    </div>
  </header>
  <div class="wrapper">
  <form id="keyboard-settings-form" class="keyboard-form">
    <div class="keyboard-form__fieldset">
      <label for="input-base-frequency" class="keyboard-form__label">Base Frequency</label>
      <input name="base-frequency-input" type="number" min="128" max="480" id="input-base-frequency">
      <button id="keyboard-settings-submit" class="keyboard-form__submit">Submit</button> 
    </div>
    <button id="stop" class="keyboard-form__submit">Stop All</button>
  </form>
  <section class="section__note-data">
    <dl>
      <dt>Note</dt><dd id="note-data-notename"></dd>
      <dt>Frequency</dt><dd id="note-data-freq"></dd>
      <dt>Number of notes</dt><dd id="note-data-num"></dd>
    </dl>
  </section>
  <main id="main">
  </main>
  <form id="keyboard-colours-form" class="keyboard-form keyboard-form--footer">
    <div class="keyboard-form__fieldset">
      <label for="keyboard-colours-select" class="keyboard-form__label">Colour Scheme</label>
      <select id="keyboard-colours-select" name="keyboard-colours-select">
      </select>
    </div>
    <div class="keyboard-form__fieldset">
      <label for="input-grid-size" class="keyboard-form__label">grid size</label>
      <select name="grid-size-input" type="number" id="input-grid-size">
        <option>8 x 8</option>
        <option>16 x 16</option>
        <option>20 x 20</option>
      </select>
      <!-- <button id="keyboard-settings-submit" class="keyboard-form__submit">Submit</button>  -->
    </div>
  </form>
  <script type="module" src="./src/index.js"></script>
</body>